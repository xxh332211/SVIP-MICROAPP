<!--pages/svipPackage/signDetail/Index.wxml-->
<online-serve />
<privacy-popup></privacy-popup>
<view class="sign-detail">
	<view class="swiper-box">
		<view class="indicate" wx:if="{{signData.image_info.masterInfo.list.length > 1}}">
			{{current+1}}/{{signData.image_info.masterInfo.list.length}}</view>
		<swiper class="gifg-swiper" current="0" circular bindchange="swiperChange">
			<block wx:for="{{signData.image_info.masterInfo.list}}" wx:key="index">
				<swiper-item wx:if="{{item.type == '4'}}">
					<video id="video1" class="gift-video" poster="{{item.cover_img_url}}" controls="{{false}}"
						show-center-play-btn="{{false}}" enable-progress-gesture="{{false}}" data-play="isPlay1" bindtap="playVideo"
						bindpause="videoPause" src="{{item.image_url}}">
						<view class="play" wx:if="{{!isPlay1}}"></view>
					</video>
				</swiper-item>
				<swiper-item wx:else>
					<image src="{{item.image_url}}"></image>
				</swiper-item>
			</block>
		</swiper>
	</view>
	<view class="name-box">
		<view class="sign-tag">
			<view class="label">签到礼</view>
			<view class="name">{{signData.gift_name}}</view>
		</view>
		<button class='share' open-type='share' plain="true"></button>
	</view>
	<view class="desc">{{signData.description}}</view>
</view>
<view class="get-explain">
	<view class="title">领取说明</view>
	<view class="explain">{{signData.get_state}}</view>
	<!-- 核销码 -->
	<view class="gift-check" wx:if="{{userInfo.svip == 1 && userInfo.check_time && userInfo.is_check_sign_gift == 0 && userInfo.is_svip_gift == 1}}">
		<view class="text">您的签到礼领取码为：<text>{{userInfo.check_num}}</text></view>
		<view class="text">您前面还有<text class="red">{{userInfo.uncheck_user_num}}</text>位用户领取签到礼</view>
	</view>
</view>
<view class="goods-detail"
	wx:if="{{signData.image_info.giftDetailVideo.length > 0 || signData.image_info.giftDetailImage.length > 0}}">
	<view class="detail-text">
		<view class="line"></view>商品详情
		<view class="line"></view>
	</view>
	<view class="media">
		<video id="video2" wx:if="{{signData.image_info.giftDetailVideo.length > 0}}"
			wx:for="{{signData.image_info.giftDetailVideo}}" wx:key="index" controls="{{false}}"
			show-center-play-btn="{{false}}" enable-progress-gesture="{{false}}" data-play="isPlay2" bindtap="playVideo"
			bindpause="videoPause" src="{{item.url}}">
			<view class="play" wx:if="{{!isPlay2}}"></view>
		</video>
		<image wx:if="{{signData.image_info.giftDetailImage.length > 0}}" mode="widthFix"
			wx:for="{{signData.image_info.giftDetailImage}}" wx:key="index" src="{{item.image_url}}"></image>
	</view>
</view>
<view class="blank"></view>

<!-- svip购买按钮 -->
<buy-btn restoreOrigin="{{restoreOrigin}}" openExpoSale="{{openExpoSale}}" isUpgrade="{{isUpgrade}}"
	isLogin="{{isLogin}}" isSvip="{{isSvip}}" price="{{price}}" originPrice="{{originPrice}}" salePrice="{{salePrice}}"
	isSend="{{isSend}}" origin="signDetail" scrollShowBtn="{{true}}" isDiscount="{{isDiscount}}"
	discountPrice="{{discountPrice}}" canUseCoupon="{{canUseCoupon}}" wxcode="{{wxcode}}" bindgetPhoneBack="getPhoneBack"></buy-btn>